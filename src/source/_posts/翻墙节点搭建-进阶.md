---
title: 翻墙节点搭建 - 进阶
date: 2024-10-07 8:29:00
tags: Florr
cover: img/Server/Server-Background.png
---

# 1. 原理

在上一篇, 我们使用了最简单的x-ui+Shadowsocks来搭建

但是Shadowsocks缺乏安全性, 你可能用个几个月就被封了

所以这里使用tls来增加安全性

用人话解释

```
上次你让同学给你买辣条, 但是通过留纸条的方式
很快就被老师发现了, 通过字条找到了你
你反省之后想出了一个新方法, 加密
```
tls 可以帮你加密到与正常的https数据无异

# 2. 事先准备

一个域名

注意, 后缀不要是.cn ( 干这个用中国顶级域名, 脑子坏了 )

自行注册, 推荐Cloudflare, Namesilo

# 3. 使用Cloudflare绑定

如果你的域名是在Cloudflare上购买的, 按照他给你的教程

注册Cloudflare账号

如果你的页面是英文的, 可以在右上角调成中文

在主页, 点击添加域

输入你购买的域名

选择手动输入dns服务器

确定

加载完成后,在底下,找到

更改名称服务器

分别复制这两个

回到你的域名注册机构, 将dns服务器改成这两个

等待1~30分钟, cloudflare就会自动更新完成

在左侧找到DNS->记录

选择右侧蓝色的添加记录

类型选择A

名称自定

之后的实际访问就是 xxx.你的域名.你的域名后缀

如果你希望是 你的域名.你的域名后缀, 名称填@即可

IPv4地址填你的ip地址

代理模式关掉, 点击保存即可

如果成功的话, 你可以用http://你设置的名称.你的域名.你的域名后缀:xui服务器端口 来访问x-ui面板

# 4. 申请证书

阿里云什么的证书还要收费, 这里使用.acmc.sh来配置

Final Shell连接至你的服务器

输入x-ui

选择13( 版本更新后可能是别的, 但是内容大致一样, 申请证书 )

等待加载

域名就是 "你设置的名称.你的域名.你的域名后缀"

Cloudflare Api查询

https://dash.cloudflare.com/profile/api-tokens

选择Global API Key

点击查询即可

复制他所给出的api

填入之前服务器要求给出的cloudflare api即可

邮箱填你在注册时用的邮箱

等待1~10分钟, 即可完成

最后, 复制他所给出的证书路径

应为xxx.cer或xxx.crt

还有xxx.key

来带x-ui面板

添加入站

这次代理选择Vless

打开xtls

选择version版本

剩下的根据实际情况填

域名填 "你设置的名称.你的域名.你的域名后缀"

证书:
- 公钥是 xx.cer或xx.crt
- 私钥是 xx.key

完成后选择左边的操作

二维码, 右下角的复制

回到v2rayN

点击左上角的服务器

从剪贴板导入

即可更安全的使用

# 5. 常见问题

节点连接不上

你设置的名称.你的域名.你的域名后缀

在这里, 如果你之前设置的名称是@, 那么应该改为 "你的域名.你的域名后缀"

而不是 "@.你的域名.你的域名后缀"

# 6. 再进阶

https://blog.flowercity.xyz/%E7%BF%BB%E5%A2%99%E8%8A%82%E7%82%B9%E6%90%AD%E5%BB%BA-%E5%AE%8C%E5%85%A8/